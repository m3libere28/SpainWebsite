<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Valencia Journey</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#4A6FA5',
                            dark: '#3A5A8F'
                        },
                        secondary: {
                            light: '#F18F01',
                            dark: '#E17F00'
                        },
                        accent: {
                            light: '#48A9A6',
                            dark: '#389996'
                        },
                        neutral: {
                            light: '#F5F5F5',
                            dark: '#1A1A1A'
                        },
                        dark: {
                            light: '#2B2D42',
                            dark: '#1B1D32'
                        },
                        light: {
                            light: '#F8F9FA',
                            dark: '#E8E9EA'
                        }
                    }
                }
            }
        }
    </script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <!-- Splide.js for carousels -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- FullCalendar -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
    <!-- Leaflet.js -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- New Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <!-- Markdown -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightbox2@2.11.4/dist/css/lightbox.min.css">
    <script src="https://cdn.jsdelivr.net/npm/lightbox2@2.11.4/dist/js/lightbox.min.js"></script> <!-- Lightbox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> <!-- PDF Export -->
    <style>
        :root {
            --primary: #4A6FA5;    /* Mediterranean Blue */
            --secondary: #F18F01;  /* Valencia Orange */
            --accent: #48A9A6;     /* Teal */
            --neutral: #F5F5F5;    /* Light Gray */
            --dark: #2B2D42;       /* Navy */
            --light: #F8F9FA;      /* Off White */
        }
        body {
            font-family: 'Open Sans', sans-serif;
            background: var(--neutral);
            margin: 0;
            padding: 0;
            color: var(--dark);
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark {
            --neutral: #1A1A1A;
            --dark: #F8F9FA;
            --light: #2B2D42;
            --primary: #3A5A8F;
            --secondary: #E17F00;
            --accent: #389996;
        }
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
        }
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }
        #loader.fade-out { opacity: 0; pointer-events: none; }
        .loader-text {
            color: white;
            font-size: 2.5rem;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .loader-plane { 
            font-size: 5rem; 
            color: white; 
            position: relative;
            animation: flyAcross 2s infinite ease-in-out; 
        }
        .loader-trail {
            position: absolute;
            width: 100px;
            height: 10px;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            filter: blur(5px);
            animation: trailFade 2s infinite ease-in-out;
        }
        @keyframes flyAcross { 
            0% { transform: translateX(-100vw) rotate(-10deg); } 
            50% { transform: translateX(0) rotate(10deg); } 
            100% { transform: translateX(100vw) rotate(-10deg); } 
        }
        @keyframes trailFade {
            0%, 100% { opacity: 0; width: 0; }
            50% { opacity: 0.5; width: 100px; }
        }
        #countdown-bar {
            position: fixed;
            top: 0;
            width: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white;
            padding: 1rem;
            text-align: center;
            z-index: 20;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            font-family: 'Montserrat', sans-serif;
        }
        .countdown-container { 
            display: flex; 
            justify-content: center; 
            gap: 10px;
            font-size: 1rem;
            flex-wrap: wrap;
        }
        .countdown-unit { 
            background: rgba(255, 255, 255, 0.2); 
            padding: 8px; 
            border-radius: 8px; 
            min-width: 60px; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            transition: all 0.3s;
        }
        .countdown-unit span:first-child {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 2px;
        }
        .countdown-unit:hover { 
            transform: translateY(-3px); 
            background: var(--secondary); 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            position: relative;
            margin-top: 80px; /* Offset for countdown bar */
            overflow: hidden;
        }
        #hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }
        #hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }
        #hero h1, #hero p, #hero button { position: relative; z-index: 2; }
        #hero h1 {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-size: 2.5rem;
        }
        @media (min-width: 768px) {
            #hero h1 {
                font-size: 3.5rem;
            }
            .countdown-container {
                gap: 20px;
                font-size: 1.2rem;
            }
            .countdown-unit {
                min-width: 80px;
                padding: 12px;
            }
            .countdown-unit span:first-child {
                font-size: 1.8rem;
            }
        }
        nav {
            position: sticky;
            top: 80px; /* Below countdown bar */
            background: rgba(74, 111, 165, 0.95);
            padding: 0.5rem;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            overflow-x: auto;
            white-space: nowrap;
            display: flex;
        }
        nav a {
            padding: 0.5rem 1rem;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            display: inline-block;
        }
        nav a:hover {
            color: var(--secondary);
            transform: translateY(-2px);
        }
        .card {
            background: var(--light);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            margin: 1rem auto;
            transition: all 0.3s;
            border: 1px solid rgba(0,0,0,0.05);
        }
        .dark .card {
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        .card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        .btn {
            background: var(--secondary);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            transition: all 0.3s;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
        }
        .btn:hover { 
            background: var(--primary); 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .weather-visual { 
            position: relative; 
            width: 100%; 
            height: 250px; 
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 10px; 
            overflow: hidden; 
        }
        .weather-sun { 
            position: absolute; 
            top: 20px; 
            left: 20px; 
            font-size: 3rem; 
            color: var(--secondary); 
            animation: pulse 2s infinite; 
        }
        .weather-cloud { 
            position: absolute; 
            top: 50px; 
            left: 100px; 
            font-size: 2rem; 
            color: white; 
            animation: drift 15s infinite linear; 
        }
        @keyframes pulse { 
            0%, 100% { transform: scale(1); } 
            50% { transform: scale(1.2); } 
        }
        @keyframes drift { 
            0% { transform: translateX(-50px); } 
            100% { transform: translateX(calc(100vw + 50px)); } 
        }
        .timeline-container { overflow-x: auto; padding: 20px 0; }
        .timeline { 
            display: flex; 
            align-items: center; 
            position: relative; 
            height: 200px; 
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 10px; 
            padding: 20px; 
            min-width: 1200px;
        }
        .timeline-item { 
            position: relative; 
            flex: 1; 
            text-align: center; 
            color: white; 
            transition: all 0.3s; 
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding-bottom: 20px;
        }
        .timeline-item:hover { transform: scale(1.1); }
        .timeline-dot { 
            width: 20px; 
            height: 20px; 
            background: var(--secondary); 
            border-radius: 50%; 
            position: absolute; 
            top: -30px; 
            left: 50%; 
            transform: translateX(-50%); 
            animation: glow 1.5s infinite alternate; 
        }
        .timeline-item p { 
            margin-top: 40px; 
            font-size: 0.9rem; 
            line-height: 1.3;
        }
        @keyframes glow { 
            0% { box-shadow: 0 0 5px var(--secondary); } 
            100% { box-shadow: 0 0 15px var(--secondary); } 
        }
        .todo-item { 
            display: flex; 
            align-items: center; 
            padding: 12px 15px; 
            margin: 8px 0; 
            background: var(--light);
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.3s;
            border-left: 4px solid var(--accent);
        }
        .todo-item.completed { 
            background: #e8f4f4; 
            text-decoration: line-through;
            color: #888;
            border-left-color: var(--secondary);
        }
        .dark .todo-item.completed {
            background: #2a3a3a;
        }
        .todo-item:hover { 
            transform: translateX(5px); 
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        .todo-check { 
            margin-right: 12px; 
            color: var(--accent);
        }
        .todo-item.completed .todo-check {
            color: var(--secondary);
        }
        #map { 
            height: 400px; 
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .fade-in { 
            animation: fadeIn 1s ease-in; 
        }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        footer {
            background: linear-gradient(90deg, var(--primary), var(--dark));
        }
        .rental-card img {
            transition: transform 0.3s;
        }
        .rental-card:hover img {
            transform: scale(1.03);
        }
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--light);
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
            animation: modalFadeIn 0.3s ease-out;
        }
        .dark .modal-content {
            background: var(--dark);
            color: white;
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
            transition: color 0.3s;
        }
        .dark .close-modal {
            color: white;
        }
        .close-modal:hover {
            color: var(--secondary);
        }
        /* Splide carousel customizations */
        .splide__arrow {
            background: var(--primary);
            opacity: 1;
        }
        .splide__arrow:hover {
            background: var(--secondary);
        }
        .splide__pagination__page.is-active {
            background: var(--secondary);
        }
        .splide__pagination__page {
            background: var(--primary);
            opacity: 0.5;
        }
        /* Theme toggle */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 30;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        /* Resources section */
        .resource-card {
            transition: all 0.3s;
            border-left: 4px solid var(--accent);
        }
        .resource-card:hover {
            transform: translateY(-5px);
            border-left-color: var(--secondary);
        }
        .resource-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        .dark .resource-icon {
            color: var(--secondary);
        }
        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            position: fixed;
            top: 90px;
            right: 20px;
            z-index: 25;
        }
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            nav {
                display: none;
                position: fixed;
                top: 140px;
                left: 0;
                width: 100%;
                background: rgba(74, 111, 165, 0.98);
                padding: 1rem;
                flex-direction: column;
                align-items: center;
                z-index: 20;
            }
            nav.show {
                display: flex;
            }
            nav a {
                padding: 0.75rem;
                width: 100%;
                text-align: center;
            }
            #hero h1 {
                font-size: 2rem;
                padding: 0 1rem;
            }
            .countdown-unit {
                min-width: 70px;
                padding: 8px;
            }
            .countdown-unit span:first-child {
                font-size: 1.5rem;
            }
            #map {
                height: 300px;
            }
        }
        /* New Styles for Added Features */
        .prose {
            max-width: none;
        }
        .prose h1, .prose h2, .prose h3 {
            color: var(--primary);
        }
        .prose a {
            color: var(--secondary);
        }
        .journal-entry video, .journal-entry img {
            max-width: 100%;
        }
    </style>
</head>
<body class="light">
    <!-- Loading Screen -->
    <div id="loader">
        <div class="loader-text">Our Family Adventure</div>
        <i class="fas fa-plane loader-plane"></i>
        <div class="loader-trail"></div>
    </div>

    <!-- Countdown Timer (Top Bar) -->
    <div id="countdown-bar">
        <div class="countdown-container" id="countdown-timer">
            <div class="countdown-unit"><span id="days">0</span><span>Days</span></div>
            <div class="countdown-unit"><span id="hours">0</span><span>Hours</span></div>
            <div class="countdown-unit"><span id="minutes">0</span><span>Minutes</span></div>
            <div class="countdown-unit"><span id="seconds">0</span><span>Seconds</span></div>
        </div>
    </div>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i> Menu
    </button>

    <!-- Hero Video -->
    <section id="hero">
        <video id="hero-video" autoplay muted loop playsinline>
            <source src="New Video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <h1 class="text-4xl md:text-6xl font-bold fade-in">Our Valencia Journey</h1>
        <p class="text-lg md:text-2xl mt-4 fade-in">A Family's Move to Spain's Mediterranean Gem</p>
        <button class="btn mt-6 fade-in" onclick="document.getElementById('home').scrollIntoView({ behavior: 'smooth' })">Begin the Adventure</button>
    </section>

    <!-- Navigation -->
    <nav id="mainNav">
        <a href="#home" class="hover:text-[var(--accent)]"><i class="fas fa-home mr-1"></i>Home</a>
        <a href="#rentals" class="hover:text-[var(--accent)]"><i class="fas fa-house-user mr-1"></i>Rentals</a>
        <a href="#timeline" class="hover:text-[var(--accent)]"><i class="fas fa-stream mr-1"></i>Timeline</a>
        <a href="#weather" class="hover:text-[var(--accent)]"><i class="fas fa-cloud-sun mr-1"></i>Weather</a>
        <a href="#schools" class="hover:text-[var(--accent)]"><i class="fas fa-school mr-1"></i>Schools</a>
        <a href="#budget" class="hover:text-[var(--accent)]"><i class="fas fa-wallet mr-1"></i>Budget</a>
        <a href="#todo" class="hover:text-[var(--accent)]"><i class="fas fa-tasks mr-1"></i>To-Do</a>
        <a href="#calendar" class="hover:text-[var(--accent)]"><i class="fas fa-calendar mr-1"></i>Calendar</a>
        <a href="#map" class="hover:text-[var(--accent)]"><i class="fas fa-map mr-1"></i>Map</a>
        <a href="#journal" class="hover:text-[var(--accent)]"><i class="fas fa-book-open mr-1"></i>Journal</a>
        <a href="#family-map" class="hover:text-[var(--accent)]"><i class="fas fa-map-pin mr-1"></i>Family Map</a>
        <a href="#bucket-list" class="hover:text-[var(--accent)]"><i class="fas fa-list-check mr-1"></i>Bucket List</a>
        <a href="#vlogs" class="hover:text-[var(--accent)]"><i class="fas fa-video mr-1"></i>Vlogs</a>
        <a href="#then-now" class="hover:text-[var(--accent)]"><i class="fas fa-history mr-1"></i>Then vs Now</a>
        <a href="#future-me" class="hover:text-[var(--accent)]"><i class="fas fa-envelope mr-1"></i>Future Me</a>
        <a href="#soundtrack" class="hover:text-[var(--accent)]"><i class="fas fa-music mr-1"></i>Soundtrack</a>
        <a href="#converter" class="hover:text-[var(--accent)]"><i class="fas fa-exchange-alt mr-1"></i>Converter</a>
        <a href="#packing" class="hover:text-[var(--accent)]"><i class="fas fa-suitcase mr-1"></i>Packing</a>
        <a href="#guestbook" class="hover:text-[var(--accent)]"><i class="fas fa-comments mr-1"></i>Guestbook</a>
        <a href="#resources" class="hover:text-[var(--accent)]"><i class="fas fa-book mr-1"></i>Resources</a>
    </nav>

    <!-- Homepage -->
    <section id="home" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-sun mr-2"></i>Welcome!</h2>
            <p class="mt-2">Join us as we prepare to move to Valencia in July 2026!</p>
        </div>
    </section>

    <!-- Rentals Carousel -->
    <section id="rentals" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-house-user mr-2"></i>Beach Apartments</h2>
            <div class="splide mt-4" id="rentals-carousel">
                <div class="splide__track">
                    <ul class="splide__list">
                        <!-- Rental Item 1 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(1)">
                                <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Malvarrosa" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Malvarrosa</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,500/month</p>
                                    <p class="text-sm mt-2">Beautiful beachfront apartment with balcony</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 2 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(2)">
                                <img src="https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Cabanyal" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Cabanyal</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,300/month</p>
                                    <p class="text-sm mt-2">Traditional fisherman's quarter, fully renovated</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 3 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(3)">
                                <img src="https://images.unsplash.com/photo-1513584684374-8bab748fbf7f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Patacona" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Patacona</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,700/month</p>
                                    <p class="text-sm mt-2">Spacious modern apartment near the beach</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 4 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(4)">
                                <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="El Cabanyal" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, El Cabanyal</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,250/month</p>
                                    <p class="text-sm mt-2">Charming historic apartment with modern amenities</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 5 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(5)">
                                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Poblats Maritims" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Poblats Maritims</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,450/month</p>
                                    <p class="text-sm mt-2">Spacious family apartment near the beach</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 6 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(6)">
                                <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Nazaret" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Nazaret</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,100/month</p>
                                    <p class="text-sm mt-2">Affordable option in up-and-coming neighborhood</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 7 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(7)">
                                <img src="https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="El Grao" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, El Grao</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,550/month</p>
                                    <p class="text-sm mt-2">Modern apartment with sea views</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 8 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(8)">
                                <img src="https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Canyamelar" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Canyamelar</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,350/month</p>
                                    <p class="text-sm mt-2">Renovated traditional home near the port</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 9 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(9)">
                                <img src="https://images.unsplash.com/photo-1527441937390-2a49ed3a0c84?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="La Malva-rosa" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, La Malva-rosa</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,650/month</p>
                                    <p class="text-sm mt-2">Bright apartment with large terrace</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 10 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(10)">
                                <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de la Punta" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa de la Punta</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,400/month</p>
                                    <p class="text-sm mt-2">Quiet location near the beach</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 11 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(11)">
                                <img src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de las Arenas" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Playa de las Arenas</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,750/month</p>
                                    <p class="text-sm mt-2">Luxury apartment with beach access</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 12 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(12)">
                                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa del Cabañal" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa del Cabañal</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,200/month</p>
                                    <p class="text-sm mt-2">Cozy apartment in vibrant neighborhood</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 13 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(13)">
                                <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de la Malvarrosa" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Playa de la Malvarrosa</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,600/month</p>
                                    <p class="text-sm mt-2">Modern apartment steps from the beach</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 14 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(14)">
                                <img src="https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de la Patacona" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa de la Patacona</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,300/month</p>
                                    <p class="text-sm mt-2">Bright apartment with balcony</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 15 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(15)">
                                <img src="https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa del Recatí" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Playa del Recatí</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,550/month</p>
                                    <p class="text-sm mt-2">Spacious family home near the beach</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 16 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(16)">
                                <img src="https://images.unsplash.com/photo-1527441937390-2a49ed3a0c84?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de Pinedo" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa de Pinedo</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,350/month</p>
                                    <p class="text-sm mt-2">Quiet location with sea views</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 17 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(17)">
                                <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa del Saler" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Playa del Saler</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,700/month</p>
                                    <p class="text-sm mt-2">Luxury beachfront living</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 18 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(18)">
                                <img src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa de la Garrofera" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa de la Garrofera</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,400/month</p>
                                    <p class="text-sm mt-2">Modern apartment near nature reserve</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 19 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(19)">
                                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa del Perellonet" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">3-Bed, Playa del Perellonet</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,650/month</p>
                                    <p class="text-sm mt-2">Spacious home in quiet beach community</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                        <!-- Rental Item 20 -->
                        <li class="splide__slide">
                            <div class="rental-card card overflow-hidden cursor-pointer" onclick="showRentalModal(20)">
                                <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Playa del Perelló" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">2-Bed, Playa del Perelló</h3>
                                    <p class="text-[var(--primary)] font-semibold">$1,250/month</p>
                                    <p class="text-sm mt-2">Affordable beachside living</p>
                                    <button class="btn mt-4 w-full">View Details</button>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Horizontal Interactive Timeline -->
    <section id="timeline" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-stream mr-2"></i>Preparation Timeline</h2>
            <div class="timeline-container">
                <div class="timeline">
                    <div class="timeline-item"><div class="timeline-dot"></div><p>July 2025<br>Research NLV</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Sept 2025<br>Income Proof</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Oct 2025<br>Health Insurance</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Nov 2025<br>BBVA Account</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Dec 2025<br>Consulate Appt</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Jan 2026<br>Apply NLV</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Mar 2026<br>Shipping</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>Apr 2026<br>Spanish Lessons</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>May 2026<br>Notify Landlord</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>June 2026<br>Cancel Utilities</p></div>
                    <div class="timeline-item"><div class="timeline-dot"></div><p>July 1, 2026<br>Move Day</p></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Weather Visualization -->
    <section id="weather" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-cloud-sun mr-2"></i>Valencia Weather</h2>
            <div class="weather-visual">
                <i class="fas fa-sun weather-sun"></i>
                <i class="fas fa-cloud weather-cloud"></i>
                <div id="weather-info" class="text-white p-4 absolute bottom-0 left-0"></div>
            </div>
        </div>
    </section>

    <!-- Schools Carousel -->
    <section id="schools" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-school mr-2"></i>Schools for Our 7-Year-Old</h2>
            <div class="splide mt-4" id="schools-carousel">
                <div class="splide__track">
                    <ul class="splide__list">
                        <!-- School Item 1 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(1)">
                                <img src="https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">British School of Valencia</h3>
                                    <p class="text-sm mt-2">"Top-tier British education!" - Expat Parent</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$1,000/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 2 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(2)">
                                <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Caxton College</h3>
                                    <p class="text-sm mt-2">"Great bilingual program." - Expat Family</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$600/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 3 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(3)">
                                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">American School of Valencia</h3>
                                    <p class="text-sm mt-2">"US curriculum, excellent facilities." - Expat</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$1,200/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 4 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(4)">
                                <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Lycee Français de Valence</h3>
                                    <p class="text-sm mt-2">"Excellent French curriculum option." - French Expat</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$800/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 5 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(5)">
                                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Elian's British School</h3>
                                    <p class="text-sm mt-2">"Great for younger children." - British Parent</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$900/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 6 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(6)">
                                <img src="https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Colegio Alemán Valencia</h3>
                                    <p class="text-sm mt-2">"German curriculum with Spanish." - German Family</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$950/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 7 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(7)">
                                <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">International School of Valencia</h3>
                                    <p class="text-sm mt-2">"IB curriculum with international focus." - Expat</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$1,100/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 8 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(8)">
                                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Mas Camarena International School</h3>
                                    <p class="text-sm mt-2">"Excellent bilingual education." - Local Parent</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$1,050/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 9 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(9)">
                                <img src="https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">CEU San Pablo Valencia</h3>
                                    <p class="text-sm mt-2">"Catholic school with strong academics." - Spanish Family</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$700/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                        <!-- School Item 10 -->
                        <li class="splide__slide">
                            <div class="card cursor-pointer" onclick="showSchoolModal(10)">
                                <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="School" class="w-full h-48 object-cover rounded-t-lg">
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">Colegio Guadalaviar</h3>
                                    <p class="text-sm mt-2">"Great all-girls school option." - Spanish Mother</p>
                                    <p class="text-[var(--primary)] font-semibold mt-2">~$650/month</p>
                                    <button class="btn mt-4 w-full">Learn More</button>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Budget Tracker -->
    <section id="budget" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-wallet mr-2"></i>Budget Tracker</h2>
            <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <canvas id="budgetChart" height="200"></canvas>
                </div>
                <div id="budget-inputs">
                    <label class="block">Rent: <input type="number" data-label="Rent" value="1500" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">Groceries: <input type="number" data-label="Groceries" value="375" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">Utilities: <input type="number" data-label="Utilities" value="175" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">Transport: <input type="number" data-label="Transport" value="100" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">School: <input type="number" data-label="School" value="0" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">Insurance: <input type="number" data-label="Insurance" value="200" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">Entertainment: <input type="number" data-label="Entertainment" value="150" class="budget-item border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3" for="addIncome">Add’l Income: <input type="number" id="addIncome" value="0" class="border p-2 rounded w-full mt-1"></label>
                    <label class="block mt-3">New Item: <input type="text" id="newItemLabel" class="border p-2 rounded w-full mt-1" placeholder="e.g., Travel"></label>
                    <button class="btn mt-3 w-full" onclick="addBudgetItem()">Add Budget Item</button>
                    <p class="mt-3 font-bold" id="savings">Savings: $3500</p>
                    <p class="mt-1 font-bold" id="total">Total: $2500 / $6000</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Animated To-Do List -->
    <section id="todo" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-tasks mr-2"></i>To-Do List</h2>
            <div class="mt-4">
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Research NLV Requirements</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Gather Income Proof</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Secure Health Insurance</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Open BBVA Account</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Book Consulate Appointment</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Submit NLV Application</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Arrange Shipping/Furniture</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Research Spanish Lessons</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Notify Landlord</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Cancel Utilities</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Pack Belongings</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Book Flights</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Move to Valencia!</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Register for Padrón</div>
                <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Apply for NIE</div>
            </div>
        </div>
    </section>

    <!-- Calendar with To-Do Events -->
    <section id="calendar" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-calendar mr-2"></i>Moving Calendar</h2>
            <div id="calendar-container" class="mt-4"></div>
        </div>
    </section>

    <!-- Map -->
    <section id="map" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-map mr-2"></i>Valencia Map</h2>
            <div id="map" class="mt-4"></div>
        </div>
    </section>

    <!-- Journal/Diary Entries Section -->
    <section id="journal" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-book-open mr-2"></i>Family Journal</h2>
            <div id="journal-entries" class="mt-4 space-y-6">
                <!-- Sample Entry -->
                <div class="journal-entry bg-[var(--light)] p-4 rounded-lg shadow">
                    <h3 class="font-bold text-lg">March 24, 2025 - Planning Begins!</h3>
                    <div class="prose mt-2" id="entry-1"></div>
                    <img src="https://images.unsplash.com/photo-1518600654-5d0abbcf51d0" alt="Planning" class="w-full h-48 object-cover rounded-lg mt-2">
                </div>
            </div>
            <textarea id="new-entry" class="w-full p-2 mt-4 border rounded" rows="4" placeholder="Write a new entry (Markdown supported)"></textarea>
            <input type="file" id="entry-media" accept="image/*,video/*" class="mt-2">
            <button class="btn mt-2" onclick="addJournalEntry()">Add Entry</button>
        </div>
    </section>

    <!-- Interactive Family Map Pins -->
    <section id="family-map" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-map-pin mr-2"></i>Family Favorite Places</h2>
            <div id="family-map-container" class="h-[400px] mt-4 rounded-lg shadow"></div>
            <div class="mt-4 flex gap-4">
                <button class="btn" onclick="togglePins('home')">Toggle Home</button>
                <button class="btn" onclick="togglePins('school')">Toggle School</button>
                <button class="btn" onclick="togglePins('dream')">Toggle Dream Places</button>
            </div>
            <input id="new-pin-name" class="mt-2 p-2 border rounded" placeholder="Pin Name">
            <input id="new-pin-lat" class="mt-2 p-2 border rounded" placeholder="Latitude" type="number" step="any">
            <input id="new-pin-lng" class="mt-2 p-2 border rounded" placeholder="Longitude" type="number" step="any">
            <button class="btn mt-2" onclick="addFamilyPin()">Add Pin</button>
        </div>
    </section>

    <!-- Valencia Bucket List -->
    <section id="bucket-list" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-list-check mr-2"></i>Valencia Bucket List</h2>
            <div id="bucket-items" class="mt-4 space-y-2">
                <div class="todo-item" onclick="toggleBucket(this)"><i class="fas fa-check todo-check"></i>Eat authentic paella 🥘</div>
                <div class="todo-item" onclick="toggleBucket(this)"><i class="fas fa-check todo-check"></i>See Las Fallas 🔥</div>
            </div>
            <input id="new-bucket" class="mt-4 p-2 border rounded w-full" placeholder="Add new item">
            <button class="btn mt-2" onclick="addBucketItem()">Add Item</button>
            <p class="mt-2">Progress: <span id="bucket-progress">0/2</span></p>
        </div>
    </section>

    <!-- Mini Travel Vlogs -->
    <section id="vlogs" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-video mr-2"></i>Mini Travel Vlogs</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div>
                    <a href="https://assets.mixkit.co/videos/preview/mixkit-family-walking-together-in-nature-39767-large.mp4" data-lightbox="vlogs" data-title="Julian trying horchata for the first time!">
                        <video class="w-full h-48 object-cover rounded-lg" muted>
                            <source src="https://assets.mixkit.co/videos/preview/mixkit-family-walking-together-in-nature-39767-large.mp4" type="video/mp4">
                        </video>
                        <p class="mt-2 text-center">Julian trying horchata!</p>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Then vs Now Timeline -->
    <section id="then-now" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-history mr-2"></i>Then vs Now</h2>
            <div class="mt-4 space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914" alt="Then" class="w-full h-48 object-cover rounded-lg">
                        <p class="mt-2 text-center">Before: Lake Worth House</p>
                    </div>
                    <div>
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c" alt="Now" class="w-full h-48 object-cover rounded-lg">
                        <p class="mt-2 text-center">After: Valencia Apartment View 🌊</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Letter to Future Me -->
    <section id="future-me" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-envelope mr-2"></i>Letter to Future Me</h2>
            <textarea id="future-letter" class="w-full p-2 mt-4 border rounded" rows="4" placeholder="Write to your future self"></textarea>
            <button class="btn mt-2" onclick="saveFutureLetter()">Save Letter</button>
            <div id="reveal-timer" class="mt-2"></div>
            <button class="btn mt-2" onclick="revealLetter()" disabled id="reveal-btn">Reveal (July 2027)</button>
        </div>
    </section>

    <!-- Our Spain Soundtrack -->
    <section id="soundtrack" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-music mr-2"></i>Our Spain Soundtrack</h2>
            <iframe class="mt-4 w-full h-96 rounded-lg" src="https://open.spotify.com/embed/playlist/37i9dQZF1DX9nHRn6tTLf4" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        </div>
    </section>

    <!-- Currency Converter Widget -->
    <section id="converter" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-exchange-alt mr-2"></i>Currency Converter</h2>
            <div class="mt-4">
                <input id="usd-input" type="number" class="p-2 border rounded" placeholder="USD">
                <span class="mx-2">=</span>
                <input id="eur-output" type="number" class="p-2 border rounded" placeholder="EUR" readonly>
            </div>
        </div>
    </section>

    <!-- Packing List Generator -->
    <section id="packing" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-suitcase mr-2"></i>Packing List</h2>
            <div id="packing-lists" class="mt-4 space-y-4">
                <div>
                    <h3 class="font-bold">You</h3>
                    <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Clothes</div>
                </div>
                <div>
					<h3 class="font-bold">Helbert</h3>                 
						<div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Tools</div>
                </div>
                <div>
                    <h3 class="font-bold">Julian</h3>
                    <div class="todo-item" onclick="toggleTodo(this)"><i class="fas fa-check todo-check"></i>Toys</div>
                </div>
            </div>
            <select id="packing-person" class="mt-4 p-2 border rounded">
                <option>You</option>
                <option>Helbert</option>
                <option>Julian</option>
            </select>
            <input id="new-packing" class="mt-2 p-2 border rounded" placeholder="Add item">
            <button class="btn mt-2" onclick="addPackingItem()">Add Item</button>
            <button class="btn mt-2" onclick="exportPackingList()">Export to PDF</button>
        </div>
    </section>

    <!-- Guestbook -->
    <section id="guestbook" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-comments mr-2"></i>Guestbook</h2>
            <div id="guestbook-entries" class="mt-4 space-y-4">
                <div class="p-4 bg-[var(--light)] rounded-lg shadow">
                    <p class="font-bold">Friend - March 24, 2025</p>
                    <p>So excited for your adventure!</p>
                </div>
            </div>
            <textarea id="guestbook-entry" class="w-full p-2 mt-4 border rounded" rows="3" placeholder="Leave a message"></textarea>
            <input id="guestbook-name" class="mt-2 p-2 border rounded" placeholder="Your Name">
            <button class="btn mt-2" onclick="addGuestbookEntry()">Sign Guestbook</button>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources" class="max-w-6xl mx-auto py-8 px-4">
        <div class="card fade-in">
            <h2 class="text-2xl font-bold text-[var(--primary)]"><i class="fas fa-book mr-2"></i>Resources</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-4">
                <div class="resource-card card">
                    <i class="fas fa-globe resource-icon"></i>
                    <h3 class="font-bold text-lg">Expat Guide</h3>
                    <p class="mt-2">Comprehensive guide to moving to Spain as an expat.</p>
                    <a href="https://www.expatica.com/es/" target="_blank" class="text-[var(--primary)] hover:text-[var(--secondary)] mt-2 inline-block">Visit Site</a>
                </div>
                <div class="resource-card card">
                    <i class="fas fa-passport resource-icon"></i>
                    <h3 class="font-bold text-lg">Visa Info</h3>
                    <p class="mt-2">Official Spanish government visa requirements.</p>
                    <a href="http://www.exteriores.gob.es/" target="_blank" class="text-[var(--primary)] hover:text-[var(--secondary)] mt-2 inline-block">Visit Site</a>
                </div>
                <div class="resource-card card">
                    <i class="fas fa-language resource-icon"></i>
                    <h3 class="font-bold text-lg">Spanish Lessons</h3>
                    <p class="mt-2">Free online resources to learn Spanish.</p>
                    <a href="https://www.duolingo.com/" target="_blank" class="text-[var(--primary)] hover:text-[var(--secondary)] mt-2 inline-block">Visit Site</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modals -->
    <div id="rental-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('rental-modal')">&times;</span>
            <div id="rental-modal-content"></div>
        </div>
    </div>

    <div id="school-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('school-modal')">&times;</span>
            <div id="school-modal-content"></div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <div class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon"></i>
    </div>

    <!-- Footer -->
    <footer class="text-white py-6 mt-12">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p>&copy; 2025 Our Valencia Journey. All rights reserved.</p>
            <p class="mt-2">Made with <i class="fas fa-heart text-[var(--secondary)]"></i> for our family adventure.</p>
        </div>
    </footer>

    <script>
        // Loader fade out
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            setTimeout(() => {
                loader.classList.add('fade-out');
                setTimeout(() => loader.style.display = 'none', 500);
            }, 1000);
        });

        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('dark');
            localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            document.querySelector('.theme-toggle i').classList.toggle('fa-moon');
            document.querySelector('.theme-toggle i').classList.toggle('fa-sun');
        }
        if (localStorage.getItem('theme') === 'dark') toggleTheme();

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.getElementById('mainNav').classList.toggle('show');
        });

        // Countdown timer
        const moveDate = new Date('2026-07-01T00:00:00');
        function updateCountdown() {
            const now = new Date();
            const distance = moveDate - now;
            
            if (distance < 0) {
                document.getElementById("countdown-bar").innerHTML = "<div class='text-xl font-bold'>We've arrived in Valencia!</div>";
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById("days").textContent = days;
            document.getElementById("hours").textContent = hours;
            document.getElementById("minutes").textContent = minutes;
            document.getElementById("seconds").textContent = seconds;
        }
        updateCountdown();
        setInterval(updateCountdown, 1000);

        // Initialize carousels
        document.addEventListener('DOMContentLoaded', function() {
            new Splide('#rentals-carousel', {
                type: 'loop',
                perPage: 3,
                perMove: 1,
                gap: '1.5rem',
                breakpoints: {
                    1024: { perPage: 2 },
                    768: { perPage: 1 }
                },
                arrows: true,
                pagination: true
            }).mount();

            new Splide('#schools-carousel', {
                type: 'loop',
                perPage: 3,
                perMove: 1,
                gap: '1.5rem',
                breakpoints: {
                    1024: { perPage: 2 },
                    768: { perPage: 1 }
                },
                arrows: true,
                pagination: true
            }).mount();
        });

        // Weather Visualization
        fetch('https://api.openweathermap.org/data/2.5/weather?q=Valencia,ES&appid=ee6c435a2eaea8e6f4e7ebfa1f2e2f3e&units=metric')
            .then(response => response.json())
            .then(data => {
                document.getElementById('weather-info').innerHTML = `
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <p class="text-xl font-bold">${data.main.temp}°C</p>
                            <p class="text-sm">${data.weather[0].description}</p>
                        </div>
                        <div>
                            <p class="text-sm"><i class="fas fa-temperature-high mr-1"></i> High: ${data.main.temp_max}°C</p>
                            <p class="text-sm"><i class="fas fa-temperature-low mr-1"></i> Low: ${data.main.temp_min}°C</p>
                            <p class="text-sm"><i class="fas fa-wind mr-1"></i> Wind: ${data.wind.speed} m/s</p>
                            <p class="text-sm"><i class="fas fa-tint mr-1"></i> Humidity: ${data.main.humidity}%</p>
                        </div>
                    </div>
                `;
            })
            .catch(error => {
                console.error('Weather fetch error:', error);
                document.getElementById('weather-info').innerHTML = `
                    <p>Weather data unavailable</p>
                    <p>Default Valencia climate:</p>
                    <p>Summer: 25-30°C, Winter: 8-16°C</p>
                `;
            });

        // Budget Tracker
        const ctx = document.getElementById('budgetChart').getContext('2d');
        let budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Rent', 'Groceries', 'Utilities', 'Transport', 'School', 'Insurance', 'Entertainment', 'Savings'],
                datasets: [{
                    data: [1500, 375, 175, 100, 0, 200, 150, 3500],
                    backgroundColor: [
                        '#4A6FA5', '#F18F01', '#48A9A6', '#2B2D42', 
                        '#6D6875', '#B5838D', '#E5989B', '#FFCDB2'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                plugins: {
                    legend: { position: 'right' }
                },
                cutout: '65%'
            }
        });

        function addBudgetItem() {
            const label = document.getElementById('newItemLabel').value.trim();
            if (label) {
                const inputsDiv = document.getElementById('budget-inputs');
                const newInput = document.createElement('label');
                newInput.className = 'block mt-3';
                newInput.innerHTML = `${label}: <input type="number" data-label="${label}" value="0" class="border p-2 rounded w-full budget-item mt-1">`;
                const addIncomeLabel = inputsDiv.querySelector('label[for="addIncome"]');
                inputsDiv.insertBefore(newInput, addIncomeLabel);
                document.getElementById('newItemLabel').value = '';
                updateBudget();
            }
        }

        function updateBudget() {
            const items = Array.from(document.getElementsByClassName('budget-item')).map(item => ({
                label: item.getAttribute('data-label'),
                value: parseInt(item.value) || 0
            }));
            const addIncome = parseInt(document.getElementById('addIncome').value) || 0;
            const totalExpenses = items.reduce((a, b) => a + b.value, 0);
            const totalBudget = 6000 + addIncome;
            const savings = Math.max(0, totalBudget - totalExpenses);
            document.getElementById('savings').textContent = `Savings: $${savings}`;
            document.getElementById('total').textContent = `Total: $${totalExpenses} / $${totalBudget}`;
            budgetChart.data.labels = [...items.map(item => item.label), 'Savings'];
            budgetChart.data.datasets[0].data = [...items.map(item => item.value), savings];
            budgetChart.update();
        }
        document.querySelectorAll('.budget-item, #addIncome').forEach(input => input.addEventListener('input', updateBudget));

        // To-Do List
        function toggleTodo(item) {
            item.classList.toggle('completed');
        }

        // Calendar
        document.addEventListener('DOMContentLoaded', function() {
            const calendarEl = document.getElementById('calendar-container');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: '2025-07-01',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                editable: true,
                events: [
                    { title: 'Research NLV Requirements', start: '2025-07-01', color: 'var(--primary)' },
                    { title: 'Gather Income Proof', start: '2025-09-01', color: 'var(--accent)' },
                    { title: 'Secure Health Insurance', start: '2025-10-01', color: 'var(--primary)' },
                    { title: 'Open BBVA Account', start: '2025-11-01', color: 'var(--accent)' },
                    { title: 'Book Consulate Appointment', start: '2025-12-01', color: 'var(--primary)' },
                    { title: 'Submit NLV Application', start: '2026-01-01', color: 'var(--accent)' },
                    { title: 'Arrange Shipping/Furniture', start: '2026-03-01', color: 'var(--primary)' },
                    { title: 'Research Spanish Lessons', start: '2026-04-01', color: 'var(--accent)' },
                    { title: 'Notify Landlord', start: '2026-05-01', color: 'var(--primary)' },
                    { title: 'Cancel Utilities', start: '2026-06-01', color: 'var(--accent)' },
                    { title: 'Pack Belongings', start: '2026-06-15', color: 'var(--primary)' },
                    { title: 'Book Flights', start: '2026-06-20', color: 'var(--accent)' },
                    { title: 'Move to Valencia', start: '2026-07-01', color: 'var(--secondary)' },
                    { title: 'Register for Padrón', start: '2026-07-05', color: 'var(--primary)' },
                    { title: 'Apply for NIE', start: '2026-07-10', color: 'var(--accent)' }
                ],
                eventClick: function(info) {
                    alert('Task: ' + info.event.title + '\nDue: ' + info.event.start.toLocaleDateString());
                }
            });
            calendar.render();
        });

        // Map
        const map = L.map('map').setView([39.4699, -0.3763], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { 
            attribution: '© OpenStreetMap contributors',
            maxZoom: 18 
        }).addTo(map);
        const homeIcon = L.divIcon({ html: '<i class="fas fa-home" style="color: #F18F01; font-size: 24px;"></i>', className: 'map-icon' });
        const schoolIcon = L.divIcon({ html: '<i class="fas fa-school" style="color: #4A6FA5; font-size: 24px;"></i>', className: 'map-icon' });
        const landmarkIcon = L.divIcon({ html: '<i class="fas fa-landmark" style="color: #48A9A6; font-size: 24px;"></i>', className: 'map-icon' });
        L.marker([39.475, -0.35], { icon: homeIcon }).addTo(map).bindPopup('<b>Malvarrosa</b><br>3-Bed Apartment<br>$1,500/month');
        L.marker([39.47, -0.34], { icon: homeIcon }).addTo(map).bindPopup('<b>Cabanyal</b><br>2-Bed Apartment<br>$1,300/month');
        L.marker([39.48, -0.33], { icon: homeIcon }).addTo(map).bindPopup('<b>Patacona</b><br>3-Bed Apartment<br>$1,700/month');
        L.marker([39.466, -0.375], { icon: schoolIcon }).addTo(map).bindPopup('<b>British School of Valencia</b><br>International curriculum');
        L.marker([39.47, -0.38], { icon: schoolIcon }).addTo(map).bindPopup('<b>Caxton College</b><br>Bilingual education');
        L.marker([39.455, -0.35], { icon: schoolIcon }).addTo(map).bindPopup('<b>American School of Valencia</b><br>US curriculum');
        L.marker([39.465, -0.365], { icon: schoolIcon }).addTo(map).bindPopup('<b>Lycee Français de Valence</b><br>French curriculum');
        L.marker([39.475, -0.37], { icon: schoolIcon }).addTo(map).bindPopup('<b>Elian\'s British School</b><br>British curriculum');
        L.marker([39.46, -0.36], { icon: schoolIcon }).addTo(map).bindPopup('<b>Colegio Alemán Valencia</b><br>German curriculum');
        L.marker([39.47, -0.36], { icon: schoolIcon }).addTo(map).bindPopup('<b>International School of Valencia</b><br>IB curriculum');
        L.marker([39.48, -0.37], { icon: schoolIcon }).addTo(map).bindPopup('<b>Mas Camarena International</b><br>Bilingual education');
        L.marker([39.465, -0.37], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEU San Pablo Valencia</b><br>Catholic school');
        L.marker([39.475, -0.36], { icon: schoolIcon }).addTo(map).bindPopup('<b>Colegio Guadalaviar</b><br>All-girls school');
        L.marker([39.47, -0.35], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEIP Benimaclet</b><br>Public school');
        L.marker([39.465, -0.355], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEIP Serrano Suñer</b><br>Public school');
        L.marker([39.475, -0.355], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEIP Vicente Gaos</b><br>Public school');
        L.marker([39.48, -0.36], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEIP San Juan de Ribera</b><br>Public school');
        L.marker([39.46, -0.35], { icon: schoolIcon }).addTo(map).bindPopup('<b>CEIP Antonio Machado</b><br>Public school');
        L.marker([39.455, -0.35], { icon: landmarkIcon }).addTo(map).bindPopup('<b>City of Arts and Sciences</b><br>Famous Valencia landmark');

        // Journal
        function addJournalEntry() {
            const text = document.getElementById('new-entry').value;
            const fileInput = document.getElementById('entry-media');
            const entries = document.getElementById('journal-entries');
            const entryDiv = document.createElement('div');
            entryDiv.className = 'journal-entry bg-[var(--light)] p-4 rounded-lg shadow';
            const date = new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            entryDiv.innerHTML = `
                <h3 class="font-bold text-lg">${date} - New Entry</h3>
                <div class="prose mt-2">${marked.parse(text)}</div>
            `;
            if (fileInput.files[0]) {
                const mediaUrl = URL.createObjectURL(fileInput.files[0]);
                const media = fileInput.files[0].type.startsWith('image') 
                    ? `<img src="${mediaUrl}" class="w-full h-48 object-cover rounded-lg mt-2">`
                    : `<video src="${mediaUrl}" controls class="w-full h-48 rounded-lg mt-2"></video>`;
                entryDiv.innerHTML += media;
            }
            entries.prepend(entryDiv);
            document.getElementById('new-entry').value = '';
            fileInput.value = '';
        }
        document.getElementById('entry-1').innerHTML = marked.parse(`
We've started planning our move to Valencia! Today, we researched schools and rentals. 
It's exciting to think about Julian playing on the beach after school. 
        `);

        // Family Map
        const familyMap = L.map('family-map-container').setView([39.4699, -0.3763], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OpenStreetMap contributors' }).addTo(familyMap);
        const familyIcons = {
            home: L.divIcon({ html: '<i class="fas fa-home text-[var(--secondary)] text-2xl"></i>', className: '' }),
            school: L.divIcon({ html: '<i class="fas fa-school text-[var(--primary)] text-2xl"></i>', className: '' }),
            dream: L.divIcon({ html: '<i class="fas fa-star text-[var(--accent)] text-2xl"></i>', className: '' })
        };
        const familyPins = {
            home: [L.marker([39.47, -0.34], { icon: familyIcons.home }).addTo(familyMap).bindPopup('Home - Cabanyal')],
            school: [L.marker([39.466, -0.375], { icon: familyIcons.school }).addTo(familyMap).bindPopup('School - British School')],
            dream: [L.marker([39.455, -0.35], { icon: familyIcons.dream }).addTo(familyMap).bindPopup('Dream - City of Arts')]
        };
        function togglePins(type) {
            familyPins[type].forEach(pin => pin.getElement() ? pin.remove() : pin.addTo(familyMap));
        }
        function addFamilyPin() {
            const name = document.getElementById('new-pin-name').value;
            const lat = parseFloat(document.getElementById('new-pin-lat').value);
            const lng = parseFloat(document.getElementById('new-pin-lng').value);
            const type = prompt('Type (home/school/dream):').toLowerCase();
            if (name && lat && lng && ['home', 'school', 'dream'].includes(type)) {
                const pin = L.marker([lat, lng], { icon: familyIcons[type] }).addTo(familyMap).bindPopup(`${name} - ${type}`);
                familyPins[type].push(pin);
                document.getElementById('new-pin-name').value = '';
                document.getElementById('new-pin-lat').value = '';
                document.getElementById('new-pin-lng').value = '';
            }
        }

        // Bucket List
        function toggleBucket(item) {
            item.classList.toggle('completed');
            updateBucketProgress();
        }
        function addBucketItem() {
            const text = document.getElementById('new-bucket').value;
            if (text) {
                const item = document.createElement('div');
                item.className = 'todo-item';
                item.innerHTML = `<i class="fas fa-check todo-check"></i>${text}`;
                item.onclick = () => toggleBucket(item);
                document.getElementById('bucket-items').appendChild(item);
                document.getElementById('new-bucket').value = '';
                updateBucketProgress();
            }
        }
        function updateBucketProgress() {
            const total = document.querySelectorAll('#bucket-items .todo-item').length;
            const completed = document.querySelectorAll('#bucket-items .todo-item.completed').length;
            document.getElementById('bucket-progress').textContent = `${completed}/${total}`;
        }

        // Future Me
        function saveFutureLetter() {
            const letter = document.getElementById('future-letter').value;
            localStorage.setItem('futureLetter', letter);
            document.getElementById('future-letter').value = '';
            updateRevealTimer();
        }
        function updateRevealTimer() {
            const revealDate = new Date('2027-07-01');
            const now = new Date();
            const distance = revealDate - now;
            if (distance <= 0) {
                document.getElementById('reveal-timer').textContent = 'Letter ready to reveal!';
                document.getElementById('reveal-btn').disabled = false;
            } else {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById('reveal-timer').textContent = `Reveal in ${days} days`;
            }
        }
        function revealLetter() {
            const letter = localStorage.getItem('futureLetter') || 'No letter saved yet.';
            alert('Your Letter:\n' + letter);
        }
        setInterval(updateRevealTimer, 86400000);
        updateRevealTimer();

        // Currency Converter
        document.getElementById('usd-input').addEventListener('input', function() {
            const usd = parseFloat(this.value) || 0;
            fetch('https://api.exchangerate-api.com/v4/latest/USD')
                .then(response => response.json())
                .then(data => {
                    const eur = usd * data.rates.EUR;
                    document.getElementById('eur-output').value = eur.toFixed(2);
                });
        });

        // Packing List
        function addPackingItem() {
            const person = document.getElementById('packing-person').value;
            const text = document.getElementById('new-packing').value;
            if (text) {
                const list = Array.from(document.querySelectorAll('#packing-lists > div')).find(div => div.querySelector('h3').textContent === person);
                const item = document.createElement('div');
                item.className = 'todo-item';
                item.innerHTML = `<i class="fas fa-check todo-check"></i>${text}`;
                item.onclick = () => toggleTodo(item);
                list.appendChild(item);
                document.getElementById('new-packing').value = '';
            }
        }
        function exportPackingList() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            let y = 10;
            document.querySelectorAll('#packing-lists > div').forEach(div => {
                const person = div.querySelector('h3').textContent;
                doc.text(person, 10, y);
                y += 10;
                div.querySelectorAll('.todo-item').forEach(item => {
                    const text = item.textContent.trim();
                    doc.text(`- ${text}`, 20, y);
                    y += 10;
                });
                y += 5;
            });
            doc.save('packing_list.pdf');
        }

        // Guestbook
        function addGuestbookEntry() {
            const text = document.getElementById('guestbook-entry').value;
            const name = document.getElementById('guestbook-name').value;
            if (text && name) {
                const entry = document.createElement('div');
                entry.className = 'p-4 bg-[var(--light)] rounded-lg shadow';
                const date = new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
                entry.innerHTML = `<p class="font-bold">${name} - ${date}</p><p>${text}</p>`;
                document.getElementById('guestbook-entries').prepend(entry);
                document.getElementById('guestbook-entry').value = '';
                document.getElementById('guestbook-name').value = '';
            }
        }

        // Modal Functions
        function showRentalModal(id) {
            const rentals = {
                1: { title: "3-Bed Apartment in Malvarrosa", price: "$1,500/month", image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Beautiful beachfront apartment with stunning Mediterranean views. Features a large balcony, modern kitchen, and spacious living area. Located just 50m from the beach.", bedrooms: 3, bathrooms: 2, size: "120 m²", amenities: ["Balcony", "Air Conditioning", "Parking", "Elevator", "Fully Equipped Kitchen"], contact: "rentals@valenciaproperties.com" },
                2: { title: "2-Bed Apartment in Cabanyal", price: "$1,300/month", image: "https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Traditional fisherman's quarter apartment, fully renovated with modern amenities while preserving its historic charm. Close to local markets and restaurants.", bedrooms: 2, bathrooms: 1, size: "85 m²", amenities: ["Terrace", "Air Conditioning", "Washer", "Historical Building"], contact: "rentals@valenciaproperties.com" },
                3: { title: "3-Bed Apartment in Patacona", price: "$1,700/month", image: "https://images.unsplash.com/photo-1513584684374-8bab748fbf7f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Spacious modern apartment near the beach with large windows for plenty of natural light. Community pool and garden area included.", bedrooms: 3, bathrooms: 2, size: "110 m²", amenities: ["Community Pool", "Garden", "Parking", "Modern Kitchen"], contact: "rentals@valenciaproperties.com" },
                4: { title: "2-Bed Apartment in El Cabanyal", price: "$1,250/month", image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Charming historic apartment with modern amenities in the heart of El Cabanyal. Features original tile work and high ceilings.", bedrooms: 2, bathrooms: 1, size: "75 m²", amenities: ["Historical Building", "Air Conditioning", "Washer", "Close to Beach"], contact: "rentals@valenciaproperties.com" },
                5: { title: "3-Bed Apartment in Poblats Maritims", price: "$1,450/month", image: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Spacious family apartment near the beach in the Poblats Maritims area. Quiet neighborhood with local amenities.", bedrooms: 3, bathrooms: 2, size: "105 m²", amenities: ["Balcony", "Air Conditioning", "Parking", "Fully Equipped Kitchen"], contact: "rentals@valenciaproperties.com" },
                6: { title: "2-Bed Apartment in Nazaret", price: "$1,100/month", image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Affordable option in the up-and-coming Nazaret neighborhood. Close to the beach and with good transport links.", bedrooms: 2, bathrooms: 1, size: "70 m²", amenities: ["Balcony", "Air Conditioning", "Washer"], contact: "rentals@valenciaproperties.com" },
                7: { title: "3-Bed Apartment in El Grao", price: "$1,550/month", image: "https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Modern apartment with sea views in El Grao district. Close to the port and marina.", bedrooms: 3, bathrooms: 2, size: "115 m²", amenities: ["Sea View", "Air Conditioning", "Parking", "Modern Kitchen"], contact: "rentals@valenciaproperties.com" },
                8: { title: "2-Bed Apartment in Canyamelar", price: "$1,350/month", image: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Renovated traditional home near the port in Canyamelar. Features original architectural details with modern comforts.", bedrooms: 2, bathrooms: 1, size: "80 m²", amenities: ["Historical Building", "Air Conditioning", "Washer", "Close to Beach"], contact: "rentals@valenciaproperties.com" },
                9: { title: "3-Bed Apartment in La Malva-rosa", price: "$1,650/month", image: "https://images.unsplash.com/photo-1527441937390-2a49ed3a0c84?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Bright apartment with large terrace in La Malva-rosa area. Just steps from the beach and with great sea views.", bedrooms: 3, bathrooms: 2, size: "125 m²", amenities: ["Terrace", "Sea View", "Air Conditioning", "Parking"], contact: "rentals@valenciaproperties.com" },
                10: { title: "2-Bed Apartment in Playa de la Punta", price: "$1,400/month", image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Quiet location near the beach in Playa de la Punta. Modern building with good amenities.", bedrooms: 2, bathrooms: 1, size: "85 m²", amenities: ["Balcony", "Air Conditioning", "Washer", "Close to Beach"], contact: "rentals@valenciaproperties.com" },
                11: { title: "3-Bed Apartment in Playa de las Arenas", price: "$1,750/month", image: "https://images.unsplash.com/photo-1507089947368-19c1da9775ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Luxury apartment with direct beach access in Playa de las Arenas. High-end finishes and amenities.", bedrooms: 3, bathrooms: 2, size: "130 m²", amenities: ["Beach Access", "Air Conditioning", "Parking", "Luxury Finishes"], contact: "rentals@valenciaproperties.com" },
                12: { title: "2-Bed Apartment in Playa del Cabañal", price: "$1,200/month", image: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Cozy apartment in the vibrant Playa del Cabañal neighborhood. Close to restaurants and nightlife.", bedrooms: 2, bathrooms: 1, size: "75 m²", amenities: ["Balcony", "Air Conditioning", "Washer", "Vibrant Area"], contact: "rentals@valenciaproperties.com" },
                13: { title: "3-Bed Apartment in Playa de la Malvarrosa", price: "$1,600/month", image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Modern apartment steps from the beach in Playa de la Malvarrosa. Great for families.", bedrooms: 3, bathrooms: 2, size: "120 m²", amenities: ["Close to Beach", "Air Conditioning", "Parking", "Family Friendly"], contact: "rentals@valenciaproperties.com" },
                14: { title: "2-Bed Apartment in Playa de la Patacona", price: "$1,300/month", image: "https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Bright apartment with balcony in Playa de la Patacona. Quiet residential area.", bedrooms: 2, bathrooms: 1, size: "85 m²", amenities: ["Balcony", "Air Conditioning", "Washer", "Residential Area"], contact: "rentals@valenciaproperties.com" },
                15: { title: "3-Bed Apartment in Playa del Recatí", price: "$1,550/month", image: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Spacious family home near the beach in Playa del Recatí. Great outdoor space.", bedrooms: 3, bathrooms: 2, size: "125 m²", amenities: ["Outdoor Space", "Air Conditioning", "Parking", "Family Friendly"], contact: "rentals@valenciaproperties.com" },
                16: { title: "2-Bed Apartment in Playa de Pinedo", price: "$1,350/month", image: "https://images.unsplash.com/photo-1527441937390-2a49ed3a0c84?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Quiet location with sea views in Playa de Pinedo. Peaceful residential area.", bedrooms: 2, bathrooms: 1, size: "90 m²", amenities: ["Sea View", "Air Conditioning", "Washer", "Quiet Area"], contact: "rentals@valenciaproperties.com" },
                17: { title: "3-Bed Apartment in Playa del Saler", price: "$1,700/month", image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Luxury beachfront living in Playa del Saler. High-end finishes and direct beach access.", bedrooms: 3, bathrooms: 2, size: "135 m²", amenities: ["Beachfront", "Air Conditioning", "Parking", "Luxury Finishes"], contact: "rentals@valenciaproperties.com" },
                18: { title: "2-Bed Apartment in Playa de la Garrofera", price: "$1,400/month", image: "https://images.unsplash.com/photo-1507089947368-19c1da9775ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Modern apartment near nature reserve in Playa de la Garrofera. Peaceful surroundings.", bedrooms: 2, bathrooms: 1, size: "85 m²", amenities: ["Near Nature", "Air Conditioning", "Washer", "Quiet Area"], contact: "rentals@valenciaproperties.com" },
                19: { title: "3-Bed Apartment in Playa del Perellonet", price: "$1,650/month", image: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Spacious home in quiet beach community of Playa del Perellonet. Great for families.", bedrooms: 3, bathrooms: 2, size: "130 m²", amenities: ["Community Feel", "Air Conditioning", "Parking", "Family Friendly"], contact: "rentals@valenciaproperties.com" },
                20: { title: "2-Bed Apartment in Playa del Perelló", price: "$1,250/month", image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Affordable beachside living in Playa del Perelló. Close to nature and beach.", bedrooms: 2, bathrooms: 1, size: "80 m²", amenities: ["Close to Beach", "Air Conditioning", "Washer", "Affordable"], contact: "rentals@valenciaproperties.com" }
            };
            const rental = rentals[id];
            if (!rental) return;
            document.getElementById('rental-modal-content').innerHTML = `
                <h2 class="text-2xl font-bold text-[var(--primary)]">${rental.title}</h2>
                <p class="text-xl text-[var(--secondary)] mt-2">${rental.price}</p>
                <img src="${rental.image}" alt="${rental.title}" class="w-full h-64 object-cover rounded-lg mt-4">
                <p class="mt-4">${rental.description}</p>
                <div class="grid grid-cols-2 gap-4 mt-6">
                    <div>
                        <h3 class="font-bold">Details</h3>
                        <p><i class="fas fa-bed mr-2"></i> Bedrooms: ${rental.bedrooms}</p>
                        <p><i class="fas fa-bath mr-2"></i> Bathrooms: ${rental.bathrooms}</p>
                        <p><i class="fas fa-ruler-combined mr-2"></i> Size: ${rental.size}</p>
                    </div>
                    <div>
                        <h3 class="font-bold">Amenities</h3>
                        <ul class="list-disc pl-5">
                            ${rental.amenities.map(amenity => `<li>${amenity}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                <div class="mt-6">
                    <h3 class="font-bold">Contact</h3>
                    <p><i class="fas fa-envelope mr-2"></i> ${rental.contact}</p>
                    <button class="btn mt-4 w-full" onclick="alert('Contact form would open here')">
                        <i class="fas fa-paper-plane mr-2"></i> Contact Agent
                    </button>
                </div>
            `;
            document.getElementById('rental-modal').style.display = 'flex';
        }

        function showSchoolModal(id) {
            const schools = {
                1: { name: "British School of Valencia", type: "British International", fees: "$1,000/month", image: "https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Following the British curriculum, this school offers excellent academic standards with a wide range of extracurricular activities. All classes taught in English with Spanish as a second language.", curriculum: "British National Curriculum", languages: ["English", "Spanish", "Valencian"], ages: "3-18 years", website: "https://bsvalencia.com", contact: "info@bsvalencia.com" },
                2: { name: "Caxton College", type: "Bilingual School", fees: "$600/month", image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Offering a bilingual education with a mix of British and Spanish curricula. Strong focus on both academic excellence and personal development.", curriculum: "Mixed British/Spanish", languages: ["English", "Spanish"], ages: "1-18 years", website: "https://caxtoncollege.com", contact: "admissions@caxtoncollege.com" },
                3: { name: "American School of Valencia", type: "American International", fees: "$1,200/month", image: "https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Following the American curriculum with Advanced Placement courses available for high school students. Modern facilities and diverse student body.", curriculum: "American Curriculum", languages: ["English", "Spanish"], ages: "3-18 years", website: "https://asvalencia.org", contact: "admissions@asvalencia.org" },
                4: { name: "Lycee Français de Valence", type: "French International", fees: "$800/month", image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "French curriculum school offering education from preschool through high school. Strong emphasis on multilingual education.", curriculum: "French National Curriculum", languages: ["French", "Spanish", "English"], ages: "3-18 years", website: "https://lfvalencia.org", contact: "contact@lfvalencia.org" },
                5: { name: "Elian's British School", type: "British International", fees: "$900/month", image: "https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "British curriculum school with excellent facilities and a strong focus on early years education. Popular with expat families.", curriculum: "British National Curriculum", languages: ["English", "Spanish"], ages: "1-18 years", website: "https://elians.com", contact: "info@elians.com" },
                6: { name: "Colegio Alemán Valencia", type: "German International", fees: "$950/month", image: "https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "German curriculum school offering education from kindergarten through high school. Strong focus on German language and culture.", curriculum: "German Curriculum", languages: ["German", "Spanish", "English"], ages: "3-18 years", website: "https://dsvalencia.org", contact: "info@dsvalencia.org" },
                7: { name: "International School of Valencia", type: "International", fees: "$1,100/month", image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Offering the International Baccalaureate (IB) program with an international focus. Diverse student body representing many nationalities.", curriculum: "International Baccalaureate", languages: ["English", "Spanish"], ages: "3-18 years", website: "https://isvalencia.org", contact: "admissions@isvalencia.org" },
                8: { name: "Mas Camarena International School", type: "Bilingual", fees: "$1,050/month", image: "https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Excellent bilingual education with modern facilities. Strong focus on both Spanish and English language development.", curriculum: "Spanish with Bilingual Program", languages: ["Spanish", "English"], ages: "1-18 years", website: "https://mascamarena.com", contact: "info@mascamarena.com" },
                9: { name: "CEU San Pablo Valencia", type: "Catholic Private", fees: "$700/month", image: "https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "Catholic school with strong academics and values-based education. Popular with local families seeking private education.", curriculum: "Spanish Curriculum", languages: ["Spanish", "English"], ages: "3-18 years", website: "https://colegioceusanpablo.es", contact: "secretaria@colegioceusanpablo.es" },
                10: { name: "Colegio Guadalaviar", type: "Catholic Private (Girls)", fees: "$650/month", image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", description: "All-girls Catholic school with strong academic results. Focus on empowering young women through education.", curriculum: "Spanish Curriculum", languages: ["Spanish", "English"], ages: "3-18 years", website: "https://guadalaviar.es", contact: "info@guadalaviar.es" }
            };
            const school = schools[id];
            if (!school) return;
            document.getElementById('school-modal-content').innerHTML = `
                <h2 class="text-2xl font-bold text-[var(--primary)]">${school.name}</h2>
                <p class="text-lg text-[var(--accent)] mt-1">${school.type}</p>
                <p class="text-xl text-[var(--secondary)] mt-2">${school.fees}</p>
                <img src="${school.image}" alt="${school.name}" class="w-full h-64 object-cover rounded-lg mt-4">
                <p class="mt-4">${school.description}</p>
                <div class="grid grid-cols-2 gap-4 mt-6">
                    <div>
                        <h3 class="font-bold">Curriculum</h3>
                        <p>${school.curriculum}</p>
                        <h3 class="font-bold mt-3">Languages</h3>
                        <p>${school.languages.join(', ')}</p>
                    </div>
                    <div>
                        <h3 class="font-bold">Age Range</h3>
                        <p>${school.ages}</p>
                        <h3 class="font-bold mt-3">Website</h3>
                        <a href="${school.website}" target="_blank" class="text-[var(--primary)] hover:text-[var(--secondary)]">${school.website}</a>
                    </div>
                </div>
                <div class="mt-6">
                    <h3 class="font-bold">Contact</h3>
                    <p><i class="fas fa-envelope mr-2"></i> ${school.contact}</p>
                    <button class="btn mt-4 w-full" onclick="alert('Admissions form would open here')">
                        <i class="fas fa-user-graduate mr-2"></i> Request Information
                    </button>
                </div>
            `;
            document.getElementById('school-modal').style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        }
    </script>
</body>
</html>